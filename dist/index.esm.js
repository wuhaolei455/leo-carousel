import{jsxs as e,jsx as t}from"react/jsx-runtime";import{useState as n,useRef as a,useCallback as r,useEffect as s}from"react";const l=({images:l,style:c,className:o,autoplay:i=!0,autoplayInterval:h=3e3,showIndicators:u=!0})=>{const[m,d]=n(1),[g,v]=n(!0),p=a(null),N=a(0),y=l.length>0?[l[l.length-1],...l,l[0]]:[],T=r(()=>{i&&(f(),p.current=setInterval(()=>{d(e=>e+1)},h))},[i,h]),f=()=>{p.current&&clearInterval(p.current)};s(()=>(T(),()=>f()),[T]);s(()=>{g||setTimeout(()=>{v(!0)},50)},[g]);const w=(m-1+l.length)%l.length;return e("div",{className:`carousel-container ${o||""}`,style:c,onTouchStart:e=>{N.current=e.touches[0].clientX,f()},onTouchMove:e=>{},onTouchEnd:e=>{const t=e.changedTouches[0].clientX,n=N.current-t;Math.abs(n)>50&&d(n>0?e=>e+1:e=>e-1),T()},children:[t("div",{className:"carousel-wrapper",style:{transform:`translateX(-${100*m/y.length}%)`,transition:g?"transform 0.5s ease":"none",width:100*y.length+"%"},onTransitionEnd:()=>{0===m?(v(!1),d(l.length)):m===y.length-1&&(v(!1),d(1))},children:y.map((e,n)=>t("div",{className:"carousel-slide",style:{width:100/y.length+"%"},children:t("img",{src:e,alt:`slide ${n}`,className:"carousel-image"})},n))}),u&&t("div",{className:"carousel-indicators",children:l.map((e,n)=>t("div",{className:"indicator "+(w===n?"active":""),onClick:()=>(e=>{d(e+1)})(n)},n))})]})};export{l as Carousel};
//# sourceMappingURL=index.esm.js.map
